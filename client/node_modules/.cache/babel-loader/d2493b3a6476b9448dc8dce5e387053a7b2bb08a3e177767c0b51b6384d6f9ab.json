{"ast":null,"code":"import axios from 'axios';\n\n// Define the base URL for your backend API\nconst API_URL = 'http://localhost:5001'; // Make sure this matches your server's port\n\n// --- Provider API Functions ---\n\n/**\r\n * Fetches all providers, or providers filtered by category.\r\n * @param {string | null} category - The service category to filter by.\r\n * @returns {Promise<Array>} A promise that resolves to an array of providers.\r\n */\nconst getProviders = async category => {\n  try {\n    let url = `${API_URL}/api/providers`;\n    if (category) {\n      url += `?category=${category}`;\n    }\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.error('API Error getProviders:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to fetch providers');\n  }\n};\n\n/**\r\n * Fetches a single provider by their ID.\r\n * @param {string} id - The MongoDB _id of the provider.\r\n * @returns {Promise<Object>} A promise that resolves to the provider object.\r\n */\nconst getProviderById = async id => {\n  try {\n    const response = await axios.get(`${API_URL}/api/providers/${id}`);\n    return response.data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    console.error('API Error getProviderById:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to fetch provider');\n  }\n};\n\n/**\r\n * Posts a new review for a specific provider.\r\n * @param {string} providerId - The _id of the provider to review.\r\n * @param {Object} reviewData - The review object (e.g., { userName, rating, comment }).\r\n * @returns {Promise<Object>} A promise that resolves to the *updated* provider object.\r\n */\nconst postReview = async (providerId, reviewData) => {\n  try {\n    const response = await axios.post(`${API_URL}/api/providers/${providerId}/reviews`, reviewData);\n    return response.data; // Server should return the updated provider\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    console.error('API Error postReview:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to submit review');\n  }\n};\n\n/**\r\n * Registers a new provider account.\r\n * @param {Object} providerData - The complete provider registration object.\r\n * @returns {Promise<Object>} A promise that resolves to the new provider object.\r\n */\nconst registerProvider = async providerData => {\n  try {\n    // Note: This path is '/api/provider/register' (singular)\n    const response = await axios.post(`${API_URL}/api/provider/register`, providerData);\n    return response.data;\n  } catch (error) {\n    var _error$response4, _error$response4$data;\n    console.error('API Error registerProvider:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Registration failed');\n  }\n};\n\n/**\r\n * Logs in a provider.\r\n * @param {Object} credentials - An object with { email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the login response (e.g., { message, provider }).\r\n */\nconst loginProvider = async credentials => {\n  try {\n    // Note: This path is '/api/provider/login' (singular)\n    const response = await axios.post(`${API_URL}/api/provider/login`, credentials);\n    return response.data;\n  } catch (error) {\n    var _error$response5, _error$response5$data;\n    console.error('API Error loginProvider:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'Login failed');\n  }\n};\n\n// --- User API Functions ---\n\n/**\r\n * Registers a new user account.\r\n * @param {Object} userData - An object with { name, email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the server message.\r\n */\nconst registerUser = async userData => {\n  try {\n    const response = await axios.post(`${API_URL}/api/register`, userData);\n    return response.data;\n  } catch (error) {\n    var _error$response6, _error$response6$data;\n    console.error('API Error registerUser:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Registration failed');\n  }\n};\n\n/**\r\n * Logs in a user.\r\n * @param {Object} credentials - An object with { email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the login response (e.g., { message, user }).\r\n */\nconst loginUser = async credentials => {\n  try {\n    const response = await axios.post(`${API_URL}/api/login`, credentials);\n    return response.data;\n  } catch (error) {\n    var _error$response7, _error$response7$data;\n    console.error('API Error loginUser:', error.response ? error.response.data : error.message);\n    throw new Error(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || 'Login failed');\n  }\n};\n\n// Export all functions as a single object\nconst api = {\n  getProviders,\n  getProviderById,\n  postReview,\n  registerProvider,\n  loginProvider,\n  registerUser,\n  loginUser\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","getProviders","category","url","response","get","data","error","_error$response","_error$response$data","console","message","Error","getProviderById","id","_error$response2","_error$response2$data","postReview","providerId","reviewData","post","_error$response3","_error$response3$data","registerProvider","providerData","_error$response4","_error$response4$data","loginProvider","credentials","_error$response5","_error$response5$data","registerUser","userData","_error$response6","_error$response6$data","loginUser","_error$response7","_error$response7$data","api"],"sources":["C:/Users/prajw/OneDrive/Documents/3 SEM/wt proj/local_service_finder/client/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Define the base URL for your backend API\r\nconst API_URL = 'http://localhost:5001'; // Make sure this matches your server's port\r\n\r\n// --- Provider API Functions ---\r\n\r\n/**\r\n * Fetches all providers, or providers filtered by category.\r\n * @param {string | null} category - The service category to filter by.\r\n * @returns {Promise<Array>} A promise that resolves to an array of providers.\r\n */\r\nconst getProviders = async (category) => {\r\n  try {\r\n    let url = `${API_URL}/api/providers`;\r\n    if (category) {\r\n      url += `?category=${category}`;\r\n    }\r\n    const response = await axios.get(url);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('API Error getProviders:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Failed to fetch providers');\r\n  }\r\n};\r\n\r\n/**\r\n * Fetches a single provider by their ID.\r\n * @param {string} id - The MongoDB _id of the provider.\r\n * @returns {Promise<Object>} A promise that resolves to the provider object.\r\n */\r\nconst getProviderById = async (id) => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/api/providers/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('API Error getProviderById:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Failed to fetch provider');\r\n  }\r\n};\r\n\r\n/**\r\n * Posts a new review for a specific provider.\r\n * @param {string} providerId - The _id of the provider to review.\r\n * @param {Object} reviewData - The review object (e.g., { userName, rating, comment }).\r\n * @returns {Promise<Object>} A promise that resolves to the *updated* provider object.\r\n */\r\nconst postReview = async (providerId, reviewData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/api/providers/${providerId}/reviews`, reviewData);\r\n    return response.data; // Server should return the updated provider\r\n  } catch (error)\r\n {\r\n    console.error('API Error postReview:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Failed to submit review');\r\n  }\r\n};\r\n\r\n/**\r\n * Registers a new provider account.\r\n * @param {Object} providerData - The complete provider registration object.\r\n * @returns {Promise<Object>} A promise that resolves to the new provider object.\r\n */\r\nconst registerProvider = async (providerData) => {\r\n  try {\r\n    // Note: This path is '/api/provider/register' (singular)\r\n    const response = await axios.post(`${API_URL}/api/provider/register`, providerData);\r\n    return response.data; \r\n  } catch (error) {\r\n    console.error('API Error registerProvider:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Registration failed');\r\n  }\r\n};\r\n\r\n/**\r\n * Logs in a provider.\r\n * @param {Object} credentials - An object with { email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the login response (e.g., { message, provider }).\r\n */\r\nconst loginProvider = async (credentials) => {\r\n  try {\r\n    // Note: This path is '/api/provider/login' (singular)\r\n    const response = await axios.post(`${API_URL}/api/provider/login`, credentials);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('API Error loginProvider:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Login failed');\r\n  }\r\n};\r\n\r\n\r\n// --- User API Functions ---\r\n\r\n/**\r\n * Registers a new user account.\r\n * @param {Object} userData - An object with { name, email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the server message.\r\n */\r\nconst registerUser = async (userData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/api/register`, userData);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('API Error registerUser:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Registration failed');\r\n  }\r\n};\r\n\r\n/**\r\n * Logs in a user.\r\n * @param {Object} credentials - An object with { email, password }.\r\n * @returns {Promise<Object>} A promise that resolves to the login response (e.g., { message, user }).\r\n */\r\nconst loginUser = async (credentials) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/api/login`, credentials);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('API Error loginUser:', error.response ? error.response.data : error.message);\r\n    throw new Error(error.response?.data?.message || 'Login failed');\r\n  }\r\n};\r\n\r\n\r\n// Export all functions as a single object\r\nconst api = {\r\n  getProviders,\r\n  getProviderById,\r\n  postReview,\r\n  registerProvider,\r\n  loginProvider,\r\n  registerUser,\r\n  loginUser\r\n};\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAAG,uBAAuB,CAAC,CAAC;;AAEzC;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMC,YAAY,GAAG,MAAOC,QAAQ,IAAK;EACvC,IAAI;IACF,IAAIC,GAAG,GAAG,GAAGH,OAAO,gBAAgB;IACpC,IAAIE,QAAQ,EAAE;MACZC,GAAG,IAAI,aAAaD,QAAQ,EAAE;IAChC;IACA,MAAME,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAACF,GAAG,CAAC;IACrC,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACdC,OAAO,CAACH,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAC9F,MAAM,IAAIC,KAAK,CAAC,EAAAJ,eAAA,GAAAD,KAAK,CAACH,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,2BAA2B,CAAC;EAC/E;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAME,eAAe,GAAG,MAAOC,EAAE,IAAK;EACpC,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,GAAGL,OAAO,kBAAkBc,EAAE,EAAE,CAAC;IAClE,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAQ,gBAAA,EAAAC,qBAAA;IACdN,OAAO,CAACH,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IACjG,MAAM,IAAIC,KAAK,CAAC,EAAAG,gBAAA,GAAAR,KAAK,CAACH,QAAQ,cAAAW,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBL,OAAO,KAAI,0BAA0B,CAAC;EAC9E;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMM,UAAU,GAAG,MAAAA,CAAOC,UAAU,EAAEC,UAAU,KAAK;EACnD,IAAI;IACF,MAAMf,QAAQ,GAAG,MAAML,KAAK,CAACqB,IAAI,CAAC,GAAGpB,OAAO,kBAAkBkB,UAAU,UAAU,EAAEC,UAAU,CAAC;IAC/F,OAAOf,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOC,KAAK,EACf;IAAA,IAAAc,gBAAA,EAAAC,qBAAA;IACGZ,OAAO,CAACH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAC5F,MAAM,IAAIC,KAAK,CAAC,EAAAS,gBAAA,GAAAd,KAAK,CAACH,QAAQ,cAAAiB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBf,IAAI,cAAAgB,qBAAA,uBAApBA,qBAAA,CAAsBX,OAAO,KAAI,yBAAyB,CAAC;EAC7E;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMY,gBAAgB,GAAG,MAAOC,YAAY,IAAK;EAC/C,IAAI;IACF;IACA,MAAMpB,QAAQ,GAAG,MAAML,KAAK,CAACqB,IAAI,CAAC,GAAGpB,OAAO,wBAAwB,EAAEwB,YAAY,CAAC;IACnF,OAAOpB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAkB,gBAAA,EAAAC,qBAAA;IACdhB,OAAO,CAACH,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAClG,MAAM,IAAIC,KAAK,CAAC,EAAAa,gBAAA,GAAAlB,KAAK,CAACH,QAAQ,cAAAqB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBnB,IAAI,cAAAoB,qBAAA,uBAApBA,qBAAA,CAAsBf,OAAO,KAAI,qBAAqB,CAAC;EACzE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMgB,aAAa,GAAG,MAAOC,WAAW,IAAK;EAC3C,IAAI;IACF;IACA,MAAMxB,QAAQ,GAAG,MAAML,KAAK,CAACqB,IAAI,CAAC,GAAGpB,OAAO,qBAAqB,EAAE4B,WAAW,CAAC;IAC/E,OAAOxB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAsB,gBAAA,EAAAC,qBAAA;IACdpB,OAAO,CAACH,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAC/F,MAAM,IAAIC,KAAK,CAAC,EAAAiB,gBAAA,GAAAtB,KAAK,CAACH,QAAQ,cAAAyB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBvB,IAAI,cAAAwB,qBAAA,uBAApBA,qBAAA,CAAsBnB,OAAO,KAAI,cAAc,CAAC;EAClE;AACF,CAAC;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMoB,YAAY,GAAG,MAAOC,QAAQ,IAAK;EACvC,IAAI;IACF,MAAM5B,QAAQ,GAAG,MAAML,KAAK,CAACqB,IAAI,CAAC,GAAGpB,OAAO,eAAe,EAAEgC,QAAQ,CAAC;IACtE,OAAO5B,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAA0B,gBAAA,EAAAC,qBAAA;IACdxB,OAAO,CAACH,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAC9F,MAAM,IAAIC,KAAK,CAAC,EAAAqB,gBAAA,GAAA1B,KAAK,CAACH,QAAQ,cAAA6B,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB3B,IAAI,cAAA4B,qBAAA,uBAApBA,qBAAA,CAAsBvB,OAAO,KAAI,qBAAqB,CAAC;EACzE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMwB,SAAS,GAAG,MAAOP,WAAW,IAAK;EACvC,IAAI;IACF,MAAMxB,QAAQ,GAAG,MAAML,KAAK,CAACqB,IAAI,CAAC,GAAGpB,OAAO,YAAY,EAAE4B,WAAW,CAAC;IACtE,OAAOxB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAA6B,gBAAA,EAAAC,qBAAA;IACd3B,OAAO,CAACH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK,CAACI,OAAO,CAAC;IAC3F,MAAM,IAAIC,KAAK,CAAC,EAAAwB,gBAAA,GAAA7B,KAAK,CAACH,QAAQ,cAAAgC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB9B,IAAI,cAAA+B,qBAAA,uBAApBA,qBAAA,CAAsB1B,OAAO,KAAI,cAAc,CAAC;EAClE;AACF,CAAC;;AAGD;AACA,MAAM2B,GAAG,GAAG;EACVrC,YAAY;EACZY,eAAe;EACfI,UAAU;EACVM,gBAAgB;EAChBI,aAAa;EACbI,YAAY;EACZI;AACF,CAAC;AAED,eAAeG,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"// src/api.js\n\nconst BASE_URL = 'http://localhost:5001/api';\n\n/**\n * A helper function to handle API responses.\n * It checks for ok status and parses JSON.\n */\nasync function handleResponse(response) {\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.message || 'Something went wrong');\n  }\n  return response.json();\n}\n\n/**\n * A helper for making POST/PUT requests.\n */\nasync function postData(url, data) {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  return handleResponse(response);\n}\n\n// --- Auth Routes ---\n\nexport const registerUser = userData => {\n  return postData(`${BASE_URL}/register`, userData);\n};\nexport const loginUser = credentials => {\n  return postData(`${BASE_URL}/login`, credentials);\n};\nexport const registerProvider = providerData => {\n  return postData(`${BASE_URL}/provider/register`, providerData);\n};\nexport const loginProvider = credentials => {\n  return postData(`${BASE_URL}/provider/login`, credentials);\n};\n\n// --- Provider Routes ---\n\nexport const getProviders = async category => {\n  let url = `${BASE_URL}/providers`;\n  if (category) {\n    url += `?category=${category}`;\n  }\n  const response = await fetch(url);\n  return handleResponse(response);\n};\nexport const getProviderById = async id => {\n  const response = await fetch(`${BASE_URL}/providers/${id}`);\n  return handleResponse(response);\n};\nexport const postReview = (providerId, reviewData) => {\n  return postData(`${BASE_URL}/providers/${providerId}/reviews`, reviewData);\n};\n\n// Export all functions as a single default object\nconst api = {\n  registerUser,\n  loginUser,\n  registerProvider,\n  loginProvider,\n  getProviders,\n  getProviderById,\n  postReview\n};\nexport default api;","map":{"version":3,"names":["BASE_URL","handleResponse","response","ok","errorData","json","Error","message","postData","url","data","fetch","method","headers","body","JSON","stringify","registerUser","userData","loginUser","credentials","registerProvider","providerData","loginProvider","getProviders","category","getProviderById","id","postReview","providerId","reviewData","api"],"sources":["C:/Users/prajw/OneDrive/Documents/3 SEM/wt proj/local_service_finder/client/src/App.js"],"sourcesContent":["// src/api.js\n\nconst BASE_URL = 'http://localhost:5001/api';\n\n/**\n * A helper function to handle API responses.\n * It checks for ok status and parses JSON.\n */\nasync function handleResponse(response) {\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.message || 'Something went wrong');\n  }\n  return response.json();\n}\n\n/**\n * A helper for making POST/PUT requests.\n */\nasync function postData(url, data) {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  });\n  return handleResponse(response);\n}\n\n// --- Auth Routes ---\n\nexport const registerUser = (userData) => {\n  return postData(`${BASE_URL}/register`, userData);\n};\n\nexport const loginUser = (credentials) => {\n  return postData(`${BASE_URL}/login`, credentials);\n};\n\nexport const registerProvider = (providerData) => {\n  return postData(`${BASE_URL}/provider/register`, providerData);\n};\n\nexport const loginProvider = (credentials) => {\n  return postData(`${BASE_URL}/provider/login`, credentials);\n};\n\n// --- Provider Routes ---\n\nexport const getProviders = async (category) => {\n  let url = `${BASE_URL}/providers`;\n  if (category) {\n    url += `?category=${category}`;\n  }\n  \n  const response = await fetch(url);\n  return handleResponse(response);\n};\n\nexport const getProviderById = async (id) => {\n  const response = await fetch(`${BASE_URL}/providers/${id}`);\n  return handleResponse(response);\n};\n\nexport const postReview = (providerId, reviewData) => {\n  return postData(`${BASE_URL}/providers/${providerId}/reviews`, reviewData);\n};\n\n\n// Export all functions as a single default object\nconst api = {\n  registerUser,\n  loginUser,\n  registerProvider,\n  loginProvider,\n  getProviders,\n  getProviderById,\n  postReview\n};\n\nexport default api;"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAG,2BAA2B;;AAE5C;AACA;AACA;AACA;AACA,eAAeC,cAAcA,CAACC,QAAQ,EAAE;EACtC,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;IAChB,MAAMC,SAAS,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,OAAO,IAAI,sBAAsB,CAAC;EAC9D;EACA,OAAOL,QAAQ,CAACG,IAAI,CAAC,CAAC;AACxB;;AAEA;AACA;AACA;AACA,eAAeG,QAAQA,CAACC,GAAG,EAAEC,IAAI,EAAE;EACjC,MAAMR,QAAQ,GAAG,MAAMS,KAAK,CAACF,GAAG,EAAE;IAChCG,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI;EAC3B,CAAC,CAAC;EACF,OAAOT,cAAc,CAACC,QAAQ,CAAC;AACjC;;AAEA;;AAEA,OAAO,MAAMe,YAAY,GAAIC,QAAQ,IAAK;EACxC,OAAOV,QAAQ,CAAC,GAAGR,QAAQ,WAAW,EAAEkB,QAAQ,CAAC;AACnD,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIC,WAAW,IAAK;EACxC,OAAOZ,QAAQ,CAAC,GAAGR,QAAQ,QAAQ,EAAEoB,WAAW,CAAC;AACnD,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAIC,YAAY,IAAK;EAChD,OAAOd,QAAQ,CAAC,GAAGR,QAAQ,oBAAoB,EAAEsB,YAAY,CAAC;AAChE,CAAC;AAED,OAAO,MAAMC,aAAa,GAAIH,WAAW,IAAK;EAC5C,OAAOZ,QAAQ,CAAC,GAAGR,QAAQ,iBAAiB,EAAEoB,WAAW,CAAC;AAC5D,CAAC;;AAED;;AAEA,OAAO,MAAMI,YAAY,GAAG,MAAOC,QAAQ,IAAK;EAC9C,IAAIhB,GAAG,GAAG,GAAGT,QAAQ,YAAY;EACjC,IAAIyB,QAAQ,EAAE;IACZhB,GAAG,IAAI,aAAagB,QAAQ,EAAE;EAChC;EAEA,MAAMvB,QAAQ,GAAG,MAAMS,KAAK,CAACF,GAAG,CAAC;EACjC,OAAOR,cAAc,CAACC,QAAQ,CAAC;AACjC,CAAC;AAED,OAAO,MAAMwB,eAAe,GAAG,MAAOC,EAAE,IAAK;EAC3C,MAAMzB,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,QAAQ,cAAc2B,EAAE,EAAE,CAAC;EAC3D,OAAO1B,cAAc,CAACC,QAAQ,CAAC;AACjC,CAAC;AAED,OAAO,MAAM0B,UAAU,GAAGA,CAACC,UAAU,EAAEC,UAAU,KAAK;EACpD,OAAOtB,QAAQ,CAAC,GAAGR,QAAQ,cAAc6B,UAAU,UAAU,EAAEC,UAAU,CAAC;AAC5E,CAAC;;AAGD;AACA,MAAMC,GAAG,GAAG;EACVd,YAAY;EACZE,SAAS;EACTE,gBAAgB;EAChBE,aAAa;EACbC,YAAY;EACZE,eAAe;EACfE;AACF,CAAC;AAED,eAAeG,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
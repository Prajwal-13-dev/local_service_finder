{"ast":null,"code":"import axios from 'axios';\n\n// The URL of your running Node.js server (from Unit 4)\n// This must match the port you set in your server.js file\nconst API_URL = 'http://localhost:5001/api';\n\n/**\r\n * api.js\r\n * It uses Axios to make real HTTP requests (Promises, Async/Await) to your Node.js backend.\r\n */\nconst api = {\n  /**\r\n   * Fetches a list of providers from the backend.\r\n   * Can be filtered by category (e.g., /api/providers?category=Plumber)\r\n   */\n  getProviders: async category => {\n    try {\n      // Use axios.get to make a GET request\n      // We pass the category as a URL parameter\n      const response = await axios.get(`${API_URL}/providers`, {\n        params: {\n          category\n        } // axios turns this into: ?category=Plumber\n      });\n\n      // Axios puts the server's JSON response in the `data` property\n      return response.data;\n    } catch (error) {\n      // Handle errors (e.g., server is down)\n      console.error('Error fetching providers:', error);\n      return []; // Return an empty array so the app doesn't crash\n    }\n  },\n  /**\r\n   * Fetches a single provider by their ID.\r\n   * (e.g., /api/providers/12345abc)\r\n   */\n  getProviderById: async id => {\n    try {\n      const response = await axios.get(`${API_URL}/providers/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(`Error fetching provider with id ${id}:`, error);\n      return null; // Return null if not found\n    }\n  },\n  /**\r\n   * Posts a new review for a provider.\r\n   * (e.g., POST to /api/providers/12345abc/reviews)\r\n   */\n  postReview: async (providerId, reviewData) => {\n    try {\n      // Use axios.post to send data (the review) to the server\n      const response = await axios.post(`${API_URL}/providers/${providerId}/reviews`, reviewData // This is the request body (e.g., { userName, rating, comment })\n      );\n      return response.data; // Return the updated provider data\n    } catch (error) {\n      console.error('Error posting review:', error);\n      throw error; // Let the component handle the error\n    }\n  }\n\n  // You would add other API calls here (e.g., user login, request quote)\n};\nconst registerUser = async userData => {\n  try {\n    // This POSTs to the /api/register route you provided\n    const response = await axios.post(`${API_URL}/api/register`, userData);\n    return response.data; // Returns { message: 'User registered successfully!' }\n  } catch (error) {\n    console.error('API Error registerUser:', error.response.data);\n    throw new Error(error.response.data.message || 'Registration failed');\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","getProviders","category","response","get","params","data","error","console","getProviderById","id","postReview","providerId","reviewData","post","registerUser","userData","Error","message"],"sources":["C:/Users/prajw/OneDrive/Documents/3 SEM/wt proj/local_service_finder/client/src/api.js"],"sourcesContent":["\r\n\r\nimport axios from 'axios';\r\n\r\n// The URL of your running Node.js server (from Unit 4)\r\n// This must match the port you set in your server.js file\r\nconst API_URL = 'http://localhost:5001/api';\r\n\r\n/**\r\n * api.js\r\n * It uses Axios to make real HTTP requests (Promises, Async/Await) to your Node.js backend.\r\n */\r\nconst api = {\r\n  /**\r\n   * Fetches a list of providers from the backend.\r\n   * Can be filtered by category (e.g., /api/providers?category=Plumber)\r\n   */\r\n  getProviders: async (category) => {\r\n    try {\r\n      // Use axios.get to make a GET request\r\n      // We pass the category as a URL parameter\r\n      const response = await axios.get(`${API_URL}/providers`, {\r\n        params: { category } // axios turns this into: ?category=Plumber\r\n      });\r\n      \r\n      // Axios puts the server's JSON response in the `data` property\r\n      return response.data;\r\n\r\n    } catch (error) {\r\n      // Handle errors (e.g., server is down)\r\n      console.error('Error fetching providers:', error);\r\n      return []; // Return an empty array so the app doesn't crash\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Fetches a single provider by their ID.\r\n   * (e.g., /api/providers/12345abc)\r\n   */\r\n  getProviderById: async (id) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/providers/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`Error fetching provider with id ${id}:`, error);\r\n      return null; // Return null if not found\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Posts a new review for a provider.\r\n   * (e.g., POST to /api/providers/12345abc/reviews)\r\n   */\r\n  postReview: async (providerId, reviewData) => {\r\n    try {\r\n      // Use axios.post to send data (the review) to the server\r\n      const response = await axios.post(\r\n        `${API_URL}/providers/${providerId}/reviews`, \r\n        reviewData // This is the request body (e.g., { userName, rating, comment })\r\n      );\r\n      return response.data; // Return the updated provider data\r\n    } catch (error) {\r\n      console.error('Error posting review:', error);\r\n      throw error; // Let the component handle the error\r\n    }\r\n  }\r\n  \r\n  // You would add other API calls here (e.g., user login, request quote)\r\n};\r\n\r\nconst registerUser = async (userData) => {\r\n  try {\r\n    // This POSTs to the /api/register route you provided\r\n    const response = await axios.post(`${API_URL}/api/register`, userData);\r\n    return response.data; // Returns { message: 'User registered successfully!' }\r\n  } catch (error) {\r\n    console.error('API Error registerUser:', error.response.data);\r\n    throw new Error(error.response.data.message || 'Registration failed');\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default api;"],"mappings":"AAEA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA,MAAMC,OAAO,GAAG,2BAA2B;;AAE3C;AACA;AACA;AACA;AACA,MAAMC,GAAG,GAAG;EACV;AACF;AACA;AACA;EACEC,YAAY,EAAE,MAAOC,QAAQ,IAAK;IAChC,IAAI;MACF;MACA;MACA,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,GAAGL,OAAO,YAAY,EAAE;QACvDM,MAAM,EAAE;UAAEH;QAAS,CAAC,CAAC;MACvB,CAAC,CAAC;;MAEF;MACA,OAAOC,QAAQ,CAACG,IAAI;IAEtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd;MACAC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,OAAO,EAAE,CAAC,CAAC;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;EACEE,eAAe,EAAE,MAAOC,EAAE,IAAK;IAC7B,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,GAAGL,OAAO,cAAcW,EAAE,EAAE,CAAC;MAC9D,OAAOP,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmCG,EAAE,GAAG,EAAEH,KAAK,CAAC;MAC9D,OAAO,IAAI,CAAC,CAAC;IACf;EACF,CAAC;EAED;AACF;AACA;AACA;EACEI,UAAU,EAAE,MAAAA,CAAOC,UAAU,EAAEC,UAAU,KAAK;IAC5C,IAAI;MACF;MACA,MAAMV,QAAQ,GAAG,MAAML,KAAK,CAACgB,IAAI,CAC/B,GAAGf,OAAO,cAAca,UAAU,UAAU,EAC5CC,UAAU,CAAC;MACb,CAAC;MACD,OAAOV,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK,CAAC,CAAC;IACf;EACF;;EAEA;AACF,CAAC;AAED,MAAMQ,YAAY,GAAG,MAAOC,QAAQ,IAAK;EACvC,IAAI;IACF;IACA,MAAMb,QAAQ,GAAG,MAAML,KAAK,CAACgB,IAAI,CAAC,GAAGf,OAAO,eAAe,EAAEiB,QAAQ,CAAC;IACtE,OAAOb,QAAQ,CAACG,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAAC;IAC7D,MAAM,IAAIW,KAAK,CAACV,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACY,OAAO,IAAI,qBAAqB,CAAC;EACvE;AACF,CAAC;AAMD,eAAelB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}